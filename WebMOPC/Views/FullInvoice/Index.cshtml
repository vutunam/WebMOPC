
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
	var imgPath = HttpContextAccessor.HttpContext?.Session.GetString("img") ?? "~/img/user.png";
	var isRole = HttpContextAccessor.HttpContext.Session.GetInt32("isRole");
}
@addTagHelper *,Microsoft.AspNetCore.Mvc.TagHelpers
@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-xxl flex-grow-1 container-p-y">
	<div class="row">
		<div class="col-12">
			<div class="card border-top border-primary" style="min-height: 80vh;">
				<input type="text" id="isRole" value="@isRole" hidden />
				<div class="m-2 border boder-primary" id="department_tb"></div>
				
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="modal_department" role="dialog" aria-hidden="true" data-backdrop="static">
	<div class="modal-dialog modal-md" role="document">
		<div class="modal-content">
			<input type="text" id="departId" value="" hidden />

			<div class="modal-header bg-primary">
				<h5 class="modal-title text-white text-uppercase w-100 text-center">Thông tin chi tiết hóa đơn</h5>
			</div>

			<div class="modal-body p-3" id="print-area">
				<!-- Logo -->
				<div class="text-center mb-3">
					<img src="~/img/logoThangLong.svg" alt="Logo" class="img-fluid" style="max-height: 80px;">
				</div>

				<!-- Tiêu đề hóa đơn -->
				<div class="text-center mb-4">
					<h5 class="fw-bold text-uppercase">HÓA ĐƠN THANH TOÁN</h5>
				</div>

				<!-- Thông tin hóa đơn -->
				<div class="mb-2">
					<strong>Tên hóa đơn:</strong> <span id="tenHoaDon"></span>
				</div>
				<div class="mb-2">
					<strong>Mã hóa đơn:</strong> <span id="codeIn"></span>
				</div>
				<div class="mb-2">
					<strong>Ghi chú:</strong> <span id="noteIn"></span>
				</div>
				<div class="mb-2">
					<strong>Tổng tiền thanh toán:</strong> <span id="priceIn"></span>
				</div>
				<div class="mb-3">
					<strong>Ngày tạo:</strong> <span id="dateInv"></span>
				</div>

				<!-- Chi tiết bảng -->
				<div id="tb1" class="mt-2">
					<div class="mb-2">
						<strong>Chi tiết:</strong> 
					</div>
					<div class="border border-primary p-2" id="tbHoadon"></div>
				</div>

				<div id="tb2" class="mt-2">
					<div class="mb-2">
						<strong>Chi tiết:</strong>
					</div>
					<div class="border border-primary p-2" id="tbthuoc"></div>
				</div>

				<div class="text-end mt-4 pe-2">
					<em>Xác nhận thanh toán</em><br>
					<strong>Phòng khám Thăng Long</strong>
				</div>
			</div>

			<div class="modal-footer p-2">
				<button class="btn btn-success btn-sm" id="btn_update_department">
					In hóa đơn
				</button>
				<button class="btn btn-secondary btn-sm" data-bs-dismiss="modal">
					Đóng
				</button>
			</div>
		</div>
	</div>
</div>


<script src="~/assets/vendor/Jquery/jquery.min.js"></script>
<script src="~/assets/js/invoice.js"></script>
